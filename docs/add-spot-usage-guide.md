# 添加景点功能使用指南

## 功能概述
添加景点页面提供了完整的景点信息录入功能，包括基本信息、位置选择、地图定位等。

## 主要功能

### 1. 基本信息录入
- **景点名称**：必填项，最多100个字符
- **景点描述**：可选项，支持多行文本输入
- **省份**：可选项，默认为"北京"
- **分类**：下拉选择，包含自然风光、历史文化、主题公园、城市观光、休闲度假

### 2. 位置信息
#### 地址输入方式
- 直接在地址输入框中输入详细地址
- 输入完成后自动进行地理编码，在地图上显示位置
- 支持模糊搜索和地址建议

#### 地图选择方式
- 点击地图任意位置选择坐标
- 点击"当前位置"按钮获取用户当前位置
- 点击"确认位置"按钮保存选择的位置
- 自动进行逆地理编码获取详细地址

#### 系统位置选择
- 点击"选择位置"按钮调用系统位置选择器
- 支持搜索和浏览地图选择位置

### 3. 价格与评分
- **门票价格**：数字输入，单位为元
- **评分**：滑动条选择，范围0-5分，支持小数

### 4. 时间信息
- **开放时间**：时间选择器，默认08:00
- **关闭时间**：时间选择器，默认18:00
- **最佳旅游季节**：下拉选择（春季、夏季、秋季、冬季）

### 5. 联系信息
- **联系电话**：数字输入
- **官方网站**：文本输入，支持URL格式

### 6. 状态设置
- **景点状态**：开关控制，开启表示正常营业，关闭表示暂停营业

## 使用流程

1. **填写基本信息**
   - 输入景点名称（必填）
   - 选择景点分类
   - 填写描述和省份

2. **选择位置**
   - 方式1：直接输入地址，系统自动定位
   - 方式2：在地图上点击选择位置
   - 方式3：使用"选择位置"按钮调用系统选择器
   - 方式4：点击"当前位置"获取GPS位置

3. **设置其他信息**
   - 设置门票价格和评分
   - 选择开放时间和最佳季节
   - 填写联系方式

4. **提交保存**
   - 点击"添加景点"按钮提交
   - 系统会进行数据验证
   - 提交成功后返回上一页

## 特色功能

### 深色模式支持
- 自动适配系统深色模式
- 所有UI组件完美适配深色主题

### 主题色支持
- 支持多种主题色方案
- 按钮和强调色会根据主题变化

### 数据验证
- 前端实时验证输入格式
- 后端二次验证确保数据安全
- 详细的错误提示信息

### 地图功能
- 高精度地图定位
- 实时位置标记
- 自动逆地理编码
- 多种位置选择方式

## 技术特性

### 云函数集成
- 使用云函数进行数据存储
- 支持实时数据同步
- 安全的服务端验证

### 地理位置服务
- 集成多种定位方式
- 支持地理编码和逆地理编码
- 智能地址搜索建议

### 用户体验优化
- 流畅的动画效果
- 响应式布局设计
- 智能表单预填充
- 详细的操作反馈

## 注意事项

1. **权限要求**
   - 需要获取用户位置权限才能使用定位功能
   - 首次使用时会弹出权限申请

2. **网络要求**
   - 地理编码需要网络连接
   - 云函数调用需要稳定网络

3. **数据格式**
   - 经纬度使用GCJ-02坐标系
   - 时间格式为毫秒时间戳
   - 地址采用标准格式存储

4. **性能优化**
   - 地图懒加载减少初始化时间
   - 地理编码服务有防抖处理
   - 表单验证采用增量验证

## 常见问题

**Q: 为什么无法获取当前位置？**
A: 请检查是否授权了位置权限，可以在小程序设置中重新授权。

**Q: 地址定位不准确怎么办？**
A: 可以手动在地图上点击选择准确位置，或者直接输入详细地址。

**Q: 提交失败怎么处理？**
A: 请检查网络连接和必填字段，确保所有信息都已正确填写。

**Q: 如何修改已添加的景点？**
A: 当前版本仅支持添加功能，修改功能将在后续版本中提供。
